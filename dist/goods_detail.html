<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>货物详情</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no"/>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/good_detail.css" />
    <script type="text/javascript" src="../dist/js/selfFit.js" ></script>
    <script type="text/javascript" src="../dist/js/main.js" ></script>
    <script type="text/javascript" src="../dist/js/jquery-3.2.1.min.js" ></script>
    <script type="text/javascript" src="../dist/js/angular-1.3.10.min.js" ></script>

</head>
<body ng-app="takeDeliveryModules" ng-controller="takeDeliveryCtrls">
<div id="header" class="header">
    <div id="return_key" class="return-key">
        <div id="back-img"></div>&nbsp;<span>返回</span>
    </div>
    <span class="title">货物详情</span>
    <hr color="#E5E5E5"/>
</div>

<div id="goodDetail" ng-cloak="">
    <div class="detailTitle">
        <span class="title">{{record.productName}}</span>
        <span class="batchNum">{{record.batchNumber}}</span>
    </div>
    <div class="detailContent">
        <table>
            <tr>
                <td class="left">PID</td>
                <td class="right">{{record.number}}</td>
            </tr>
            <tr>
                <td class="left">订单编号</td>
                <td class="right">{{record.number}}</td>
            </tr>
            <tr>
                <td class="left">仓库名称</td>
                <td class="right">{{record.storeHouseName}}</td>
            </tr>
            <tr>
                <td class="left">包装</td>
                <td class="right">{{record.packingSpecification}}</td>
            </tr>
            <tr>
                <td class="left">库存数量</td>
                <td class="right">{{record.storeJianshu || 0}}</td>
            </tr>
            <tr>
                <td class="left">库存重量（吨）</td>
                <td class="right">{{record.storeWeight || 0}}</td>
            </tr>
            <tr>
                <td class="left">入库单价（元）</td>
                <td class="right">{{record.unitPrice || "0.00"}}</td>
            </tr>
            <tr>
                <td class="left">可提货重量（吨）</td>
                <td class="right">{{record.deliverableWeight || '0'}}</td>
            </tr>
            <tr>
                <td class="left">可融资金额（元）</td>
                <td class="right">{{record.financableMoney || "0.00"}}</td>
            </tr>
            <tr>
                <td class="left">已融资金额（元）</td>
                <td class="right">{{record.financedMoney || "0.00"}}</td>
            </tr>
            <tr>
                <td class="left">货权人</td>
                <td class="right">{{record.productOwner}}</td>
            </tr>
            <tr>
                <td class="left">订单类型</td>
                <td class="right">{{record.orderstatus}}</td>
            </tr>
        </table>
    </div>
    <div class="detailFoot">
        <span class="history">提货历史</span>
        <span class="take">去提货</span>
    </div>
</div>
    <script type="text/javascript">
        var productId;
        var href = location.href; //取得整个地址栏
        productId = href.substr(href.indexOf("=") + 1);
        angular.module('takeDeliveryModules', [])
                .controller('takeDeliveryCtrls', ['$scope', '$http', function($scope, $http) {
                    var params={
                        _vt:const_vt,
                        fromType:2,
                        mobile:true,
                        loc:"zh-Hans",
                        versionID:"1.0.0",
                        _m:"listStoreGoods",
                        _s:"coop",
                        loginId:"ur4qqtjxnm",
                        mtn:"a210213a55154d08a24275cd2d890406",
                        buildID:"201608071700",
                        loc:"zh-Hans",
                        versionID:"1.0.0",
                        _svt:'',
                        productId:productId
                    }
                    $http({method: 'POST', url: remote_url,params}).then(function(rep) {
                        if(rep.status==200){
                            $scope.record=rep.data.content.list[0];
                        }
                    })
                }])

        $("#return_key").click(function () {
            back();
        });
    </script>
</div>
</body>
</html>