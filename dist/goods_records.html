<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>提货记录</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no"/>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/goods_records.css" />
    <script type="text/javascript" src="../dist/js/selfFit.js" ></script>
    <script type="text/javascript" src="../dist/js/jquery-3.2.1.min.js" ></script>
    <script type="text/javascript" src="../dist/js/angular-1.3.10.min.js" ></script>
    <script type="text/javascript" src="../dist/js/main.js" ></script>
</head>
<body ng-app="takeDeliveryModules" ng-controller="takeDeliveryCtrls">
<div id="header" class="header">
    <div id="return_key" class="return-key">
        <div id="back-img"></div>&nbsp;<span>返回</span>
    </div>
    <span class="title">提货记录</span>
    <hr color="#E5E5E5"/>
</div>

<div class="content">
    <div class="takeDeliveryRecord" ng-repeat="node in list" ng-cloak="">
        <div class="recordTitle">
            <span class="title">{{node.productName}}</span>
            <span class="time">申请时间&nbsp;{{node.applyTime}}</span>
        </div>
        <div class="recordMess">
            <table>
                <tr>
                    <td class="left">提货申请码</td>
                    <td class="right">{{node.number}}</td>
                </tr>
                <tr>
                    <td class="left">所在仓库</td>
                    <td class="right">{{node.storeHouseName}}</td>
                </tr>
                <tr>
                    <td class="left">申请件数</td>
                    <td class="right">{{node.itemNumber}}</td>
                </tr>
                <tr>
                    <td class="left">申请重量（kg）</td>
                    <td class="right">{{node.weight}}</td>
                </tr>
                <tr>
                    <td class="left">提货时间</td>
                    <td class="right">{{node.time}}</td>
                </tr>
                <tr>
                    <td class="left">应付（元）</td>
                    <td class="right">{{node.money}}</td>
                </tr>
                <tr>
                    <td class="left">当前状态</td>
                    <td class="right">{{node.deliveryStatus}}</td>
                </tr>
            </table>
        </div>
    </div>

    <script type="text/javascript">
        angular.module('takeDeliveryModules', [])
                .controller('takeDeliveryCtrls', ['$scope', '$http', function($scope, $http) {
                    var params={
                        _vt:'dlk_weishatest',
                        fromType:2,
                        mobile:true,
                        loc:"zh-Hans",
                        versionID:"1.0.0",
                        _m:"listDelivery",
                        _s:"coop",
                        loginId:"ur4qqtjxnm",
                        mtn:"a210213a55154d08a24275cd2d890406",
                        buildID:"201608071700",
                        loc:"zh-Hans",
                        versionID:"1.0.0",
                        _svt:'',
                        storeHouseId:10,
                        orderId:372,
                        productId:75,
                        productOwnerId:0
                    }
                    $http({method: 'POST', url: remote_url,params}).then(function(rep) {
                        if(rep.status==200){
                            $scope.list=rep.data.content
                            console.log('$scope.list:',$scope.list)
                        }

                    })
                    $scope.comeback=function(){
                        back();
                    }
                }])

        //返回
        $("#return_key").click(function () {
            back();
        });
    </script>
</div>
</body>
</html>